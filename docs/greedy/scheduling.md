# Задача об оптимальном расписании

## Описание задачи

Задача об оптимальном расписании заключается в том, чтобы найти оптимальный порядок выполнения набора задач с учетом различных ограничений и критериев оптимальности. Рассмотрим несколько вариантов задачи:

1. Задача с весами (минимизация взвешенной суммы времен завершения)
2. Задача с дедлайнами (максимизация количества выполненных задач)
3. Задача с приоритетами (минимизация взвешенной суммы задержек)

## Алгоритмы решения

### 1. Расписание с весами

**Идея алгоритма**: Сортировка задач по убыванию отношения веса к времени выполнения (weight/duration).

**Псевдокод**:
```
1. Отсортировать задачи по убыванию weight/duration
2. Выполнять задачи в полученном порядке
```

**Доказательство оптимальности**:
1. Предположим, что существует оптимальное расписание, в котором задачи идут не в порядке убывания weight/duration
2. Тогда найдутся две соседние задачи i и j, где weight_i/duration_i < weight_j/duration_j
3. Поменяв местами эти задачи, мы уменьшим взвешенную сумму времен завершения
4. Противоречие с оптимальностью исходного расписания

**Сложность**: O(n log n), где n - количество задач

### 2. Расписание с дедлайнами

**Идея алгоритма**: Сортировка задач по дедлайнам и выполнение их как можно раньше.

**Псевдокод**:
```
1. Отсортировать задачи по возрастанию дедлайнов
2. Для каждой задачи:
   - Если можно выполнить до дедлайна, добавляем в расписание
   - Иначе пропускаем
```

**Доказательство оптимальности**:
1. Если задача не может быть выполнена до своего дедлайна, её не нужно включать в расписание
2. Сортировка по дедлайнам гарантирует, что мы не пропустим задачи, которые можно выполнить
3. Выполнение задач как можно раньше максимизирует количество выполненных задач

**Сложность**: O(n log n)

### 3. Расписание с приоритетами

**Идея алгоритма**: Сортировка задач по приоритетам и выполнение их в порядке убывания приоритета.

**Псевдокод**:
```
1. Отсортировать задачи по убыванию приоритета
2. Выполнять задачи в полученном порядке
```

**Доказательство оптимальности**:
1. Если задача с высоким приоритетом выполняется позже задачи с низким приоритетом, можно поменять их местами
2. Это уменьшит взвешенную сумму задержек
3. Следовательно, оптимальное расписание должно быть отсортировано по приоритетам

**Сложность**: O(n log n)

## Примеры

### Пример 1: Расписание с весами
```
Задачи:
1. duration=3, weight=2.0
2. duration=2, weight=1.5
3. duration=4, weight=3.0
4. duration=1, weight=1.0

Отношения weight/duration:
1. 2.0/3 ≈ 0.67
2. 1.5/2 = 0.75
3. 3.0/4 = 0.75
4. 1.0/1 = 1.0

Оптимальное расписание:
4 -> 2 -> 3 -> 1
```

### Пример 2: Расписание с дедлайнами
```
Задачи:
1. duration=3, deadline=5
2. duration=2, deadline=3
3. duration=4, deadline=6
4. duration=1, deadline=2

Оптимальное расписание:
4 (0-1) -> 2 (1-3) -> 1 (3-6) -> 3 (6-10)
```

## Применение

1. Планирование процессов в операционной системе
2. Расписание работы оборудования
3. Планирование проектов
4. Расписание занятий
5. Оптимизация производственных процессов 